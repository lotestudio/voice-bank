import{d as S,g as V,f as D,w as l,a as r,e as p,b as o,h as F,l as b,t as v,v as U,r as k,G as L,k as N,o as T}from"./app-n_fLUIe1.js";import{q as y,a as C}from"./index-CMWG4mbA.js";import{_ as z,a as w}from"./dtTd-ClKfqtt5.js";import{_ as B}from"./useAjax-XmtRkf0g.js";import{_ as K}from"./LoteAlertDialog.vue_vue_type_script_setup_true_lang-CPKDbE-E.js";import{_ as A}from"./index-DT0_wXCD.js";import{_ as q}from"./Input.vue_vue_type_script_setup_true_lang-B7xztEze.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-DxfXgAu7.js";import{t as I}from"./index-OGXtXS_A.js";import{L as M}from"./LoteSelect-Der1mF3i.js";import{a as E,b as H,_ as J}from"./AvatarImage.vue_vue_type_script_setup_true_lang-C80rwI7h.js";import"./useToggle-BLjUT96N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CyCFDcJn.js";import"./DialogTitle-C2oEofh3.js";import"./useForwardExpose-D7BoLfg_.js";import"./index-BPSGGYO7.js";import"./createLucideIcon-DJijaLzS.js";import"./index-CIgP3Fza.js";import"./index-vTXXVVPS.js";import"./DialogTrigger-CcU0OeBG.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CtXSNf9b.js";import"./chevron-right-BOL-6rNa.js";import"./BackButton.vue_vue_type_script_setup_true_lang-tfmRxzxi.js";import"./useLocale-Dmsp2NC3.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-Cjc000Nh.js";const s=e=>({url:s.url(e),method:"get"});s.definition={methods:["get","head"],url:"/admin/user"};s.url=e=>s.definition.url+y(e);s.get=e=>({url:s.url(e),method:"get"});s.head=e=>({url:s.url(e),method:"head"});const d=e=>({url:d.url(e),method:"get"});d.definition={methods:["get","head"],url:"/admin/user/create"};d.url=e=>d.definition.url+y(e);d.get=e=>({url:d.url(e),method:"get"});d.head=e=>({url:d.url(e),method:"head"});const h=e=>({url:h.url(e),method:"post"});h.definition={methods:["post"],url:"/admin/user"};h.url=e=>h.definition.url+y(e);h.post=e=>({url:h.url(e),method:"post"});const a=(e,t)=>({url:a.url(e,t),method:"get"});a.definition={methods:["get","head"],url:"/admin/user/{user}"};a.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=C(e);const u={user:typeof e.user=="object"?e.user.id:e.user};return a.definition.url.replace("{user}",u.user.toString()).replace(/\/+$/,"")+y(t)};a.get=(e,t)=>({url:a.url(e,t),method:"get"});a.head=(e,t)=>({url:a.url(e,t),method:"head"});const m=(e,t)=>({url:m.url(e,t),method:"get"});m.definition={methods:["get","head"],url:"/admin/user/{user}/edit"};m.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=C(e);const u={user:typeof e.user=="object"?e.user.id:e.user};return m.definition.url.replace("{user}",u.user.toString()).replace(/\/+$/,"")+y(t)};m.get=(e,t)=>({url:m.url(e,t),method:"get"});m.head=(e,t)=>({url:m.url(e,t),method:"head"});const f=(e,t)=>({url:f.url(e,t),method:"put"});f.definition={methods:["put","patch"],url:"/admin/user/{user}"};f.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={user:e.id}),Array.isArray(e)&&(e={user:e[0]}),e=C(e);const u={user:typeof e.user=="object"?e.user.id:e.user};return f.definition.url.replace("{user}",u.user.toString()).replace(/\/+$/,"")+y(t)};f.put=(e,t)=>({url:f.url(e,t),method:"put"});f.patch=(e,t)=>({url:f.url(e,t),method:"patch"});const _=(e,t)=>({url:_.url(e,t),method:"delete"});_.definition={methods:["delete"],url:"/admin/user/{user}"};_.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={user:e}),Array.isArray(e)&&(e={user:e[0]}),e=C(e);const u={user:e.user};return _.definition.url.replace("{user}",u.user.toString()).replace(/\/+$/,"")+y(t)};_.delete=(e,t)=>({url:_.url(e,t),method:"delete"});const $={index:s,create:d,store:h,show:a,edit:m,update:f,destroy:_},O={class:"p-4"},Q={class:"flex w-full gap-2"},R={class:"flex gap-2 items-center"},W={class:"flex justify-end gap-2"},$e=S({__name:"index",setup(e){const t=[{title:"User List",href:"/admin/user"}],u=V(),j=x=>{k.delete($.destroy(x).url,{preserveScroll:!0,onSuccess:()=>{u.value&&(u.value.refresh(),I.success("The User has been deleted successfully."))}})};return(x,n)=>(T(),D(G,{breadcrumbs:t},{default:l(()=>[r(o(F),{title:"User List"}),p("div",O,[r(z,{"default-url":"/admin/user",ref_key:"dataTable",ref:u},{filters:l(i=>[p("div",Q,[r(o(q),{class:"w-40 border-neutral-300 shadow-none dark:border-neutral-500",placeholder:"търси",modelValue:i.urlParams.search,"onUpdate:modelValue":c=>i.urlParams.search=c,onKeyup:L(c=>i.setFilter(),["enter"])},{default:l(()=>[...n[0]||(n[0]=[b(" >",-1)])]),_:1},8,["modelValue","onUpdate:modelValue","onKeyup"]),r(M,{options:[{label:"Choose role",value:""},{label:"Artist",value:"artist"},{label:"Client",value:"client"},{label:"Admin",value:"admin"},{label:"Developer",value:"dev"}],onChange:c=>i.setFilter("role",c),selected:i.getFilter("role")||""},null,8,["onChange","selected"]),r(B,{onClick:N(c=>i.resetFilters(),["stop","prevent"])},null,8,["onClick"])]),r(o(U),{href:o($).create.url()},{default:l(()=>[r(o(A),null,{default:l(()=>[...n[1]||(n[1]=[b("New User",-1)])]),_:1})]),_:1},8,["href"])]),tr:l(i=>[r(w,{column:"0"},{default:l(()=>[p("div",R,[r(o(E),{class:"flex h-10 w-10 cursor-pointer items-center justify-center bg-sidebar-accent"},{default:l(()=>[r(o(H),{src:i.row.avatar.url,alt:i.row.avatar.initials},null,8,["src","alt"]),r(o(J),{class:"text-xs font-bold"},{default:l(()=>[b(v(i.row.avatar.initials),1)]),_:2},1024)]),_:2},1024),r(o(U),{href:o($).show(i.row.id)},{default:l(()=>[b(v(i.row.name),1)]),_:2},1032,["href"])])]),_:2},1024),r(w,{column:"1"},{default:l(()=>[b(v(i.row.email),1)]),_:2},1024),r(w,{column:"2"},{default:l(()=>[b(v(i.row.role),1)]),_:2},1024),r(w,{column:"3"},{default:l(()=>[p("div",W,[r(o(A),{size:"icon",onClick:c=>o(k).visit("/impersonate/take/"+i.row.id)},{default:l(()=>[...n[2]||(n[2]=[p("span",{class:"i-ghost"},null,-1)])]),_:1},8,["onClick"]),r(o(A),{variant:"secondary",size:"icon",onClick:c=>o(k).visit(o($).edit(i.row.id))},{default:l(()=>[...n[3]||(n[3]=[p("span",{class:"i-edit"},null,-1)])]),_:1},8,["onClick"]),r(K,{"dialog-title":"Delete User","dialog-description":"Are you sure you want to delete this User?","confirm-label":"Delete",onConfirm:c=>j(i.row.id)},{default:l(()=>[r(o(A),{variant:"destructive",size:"icon"},{default:l(()=>[...n[4]||(n[4]=[p("span",{class:"i-trash"},null,-1)])]),_:1})]),_:1},8,["onConfirm"])])]),_:2},1024)]),_:1},512)])]),_:1}))}});export{$e as default};
