import{d as x,g as k,m as b,z as w,c,a as o,w as a,F as C,s as h,b as n,r as m,o as i,f as B,e as l,t as p,k as f}from"./app-n_fLUIe1.js";import{S as D}from"./SortController-BKG4eEkh.js";import{t as v}from"./index-OGXtXS_A.js";import{S as L,a as M}from"./vue-slicksort.esm-DYxOjKXL.js";import{_ as z}from"./index-DT0_wXCD.js";import{L as V}from"./LoteSwitch-DR79yi09.js";import{S as $}from"./SampleController--S6dWWtR.js";import{_ as F}from"./LoteAlertDialog.vue_vue_type_script_setup_true_lang-CPKDbE-E.js";const I={class:""},N={class:"flex justify-between items-center"},K=x({__name:"VoiceSamplesManager",props:{voice:{}},setup(S){const u=S,t=k([]),_=b(()=>t.value.map((r,e)=>{const s={};return s.id=r.id,s.sort_order=e+1,s})),g=()=>{m.post(D.store().url,{model:"sample",order_column:"sort_order",items:_.value},{preserveScroll:!0,onSuccess:()=>{v.success("Items reordered successfully.")}})},y=r=>{m.delete($.destroy(r).url,{preserveScroll:!0,onSuccess:()=>{t.value=t.value.filter(e=>e.id!==r),v.success("The Sample has been deleted successfully.")}})};return w(()=>{u.voice&&(t.value=u.voice.samples)}),(r,e)=>(i(),c("div",I,[o(n(L),{axis:"y",list:t.value,"onUpdate:list":[e[2]||(e[2]=s=>t.value=s),g],c:"",class:"space-y-2",helperClass:"!z-[9999] transition-none",distance:5,transitionDuration:0},{default:a(()=>[(i(!0),c(C,null,h(t.value,(s,d)=>(i(),B(n(M),{key:s.id,index:d,class:"rounded bg-secondary-foreground p-2 text-black select-none"},{default:a(()=>[l("div",N,[l("div",null,p(d+1)+". "+p(s.title.en),1),l("div",{class:"flex gap-2 items-center",onMousedown:e[0]||(e[0]=f(()=>{},["stop"])),onTouchstart:e[1]||(e[1]=f(()=>{},["stop"]))},[o(V,{"default-state":s.is_featured,url:"/admin/sample/"+s.id+"/toggle-featured"},null,8,["default-state","url"]),o(F,{"trigger-variant":"destructive","trigger-label":"trash","is-icon":"","dialog-title":"Delete Sample","dialog-description":"Are you sure you want to delete this Sample?","confirm-label":"Delete",onConfirm:T=>y(s.id)},{default:a(()=>[o(n(z),{variant:"destructive",size:"icon"},{default:a(()=>[...e[3]||(e[3]=[l("span",{class:"i-trash"},null,-1)])]),_:1})]),_:1},8,["onConfirm"])],32)])]),_:2},1032,["index"]))),128))]),_:1},8,["list"])]))}});export{K as _};
