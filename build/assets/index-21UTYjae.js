import{d as Q,m as Y,c as E,a as o,e as m,w as r,b as n,t as K,o as B,f as X,C as M,l as q,q as Z,g as I,h as P,v as R,j as g,r as W,G as ee,k as te,u as ie}from"./app-n_fLUIe1.js";import{a as c,q as u}from"./index-CMWG4mbA.js";import{_ as oe,a as F}from"./dtTd-ClKfqtt5.js";import{_ as le}from"./useAjax-XmtRkf0g.js";import{_ as re}from"./LoteAlertDialog.vue_vue_type_script_setup_true_lang-CPKDbE-E.js";import{_ as z}from"./index-DT0_wXCD.js";import{_ as ne}from"./Input.vue_vue_type_script_setup_true_lang-B7xztEze.js";import{_ as de}from"./AppLayout.vue_vue_type_script_setup_true_lang-DxfXgAu7.js";import{t as ue}from"./index-OGXtXS_A.js";import{L as ce}from"./LoteSwitch-DR79yi09.js";import{L as ae}from"./LoteSelect-Der1mF3i.js";import{u as se}from"./useGlobalPlayer-B-WgWXrj.js";import{_ as me}from"./Progress.vue_vue_type_script_setup_true_lang-DXQ_a_UR.js";import{h as pe,e as fe,f as he,g as ve,_ as ye}from"./index-CyCFDcJn.js";import{_ as _e,a as be}from"./SheetTrigger.vue_vue_type_script_setup_true_lang-DXWbwtJV.js";import{_ as Ae}from"./VoiceSamplesManager.vue_vue_type_script_setup_true_lang-YQxWeYXH.js";import"./useToggle-BLjUT96N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-DJijaLzS.js";import"./useForwardExpose-D7BoLfg_.js";import"./DialogTitle-C2oEofh3.js";import"./index-CIgP3Fza.js";import"./index-BPSGGYO7.js";import"./DialogTrigger-CcU0OeBG.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CtXSNf9b.js";import"./index-vTXXVVPS.js";import"./chevron-right-BOL-6rNa.js";import"./BackButton.vue_vue_type_script_setup_true_lang-tfmRxzxi.js";import"./useLocale-Dmsp2NC3.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-Cjc000Nh.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-C80rwI7h.js";import"./SortController-BKG4eEkh.js";import"./vue-slicksort.esm-DYxOjKXL.js";import"./SampleController--S6dWWtR.js";const N=(e,t)=>({url:N.url(e,t),method:"post"});N.definition={methods:["post"],url:"/admin/voice/{id}/toggle-status"};N.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={id:e}),Array.isArray(e)&&(e={id:e[0]}),e=c(e);const i={id:e.id};return N.definition.url.replace("{id}",i.id.toString()).replace(/\/+$/,"")+u(t)};N.post=(e,t)=>({url:N.url(e,t),method:"post"});const $=e=>({url:$.url(e),method:"get"});$.definition={methods:["get","head"],url:"/admin/voice"};$.url=e=>$.definition.url+u(e);$.get=e=>({url:$.url(e),method:"get"});$.head=e=>({url:$.url(e),method:"head"});const S=e=>({url:S.url(e),method:"get"});S.definition={methods:["get","head"],url:"/admin/voice/create"};S.url=e=>S.definition.url+u(e);S.get=e=>({url:S.url(e),method:"get"});S.head=e=>({url:S.url(e),method:"head"});const T=e=>({url:T.url(e),method:"post"});T.definition={methods:["post"],url:"/admin/voice"};T.url=e=>T.definition.url+u(e);T.post=e=>({url:T.url(e),method:"post"});const w=(e,t)=>({url:w.url(e,t),method:"get"});w.definition={methods:["get","head"],url:"/admin/voice/{voice}"};w.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={voice:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={voice:e.id}),Array.isArray(e)&&(e={voice:e[0]}),e=c(e);const i={voice:typeof e.voice=="object"?e.voice.id:e.voice};return w.definition.url.replace("{voice}",i.voice.toString()).replace(/\/+$/,"")+u(t)};w.get=(e,t)=>({url:w.url(e,t),method:"get"});w.head=(e,t)=>({url:w.url(e,t),method:"head"});const j=(e,t)=>({url:j.url(e,t),method:"get"});j.definition={methods:["get","head"],url:"/admin/voice/{voice}/edit"};j.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={voice:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={voice:e.id}),Array.isArray(e)&&(e={voice:e[0]}),e=c(e);const i={voice:typeof e.voice=="object"?e.voice.id:e.voice};return j.definition.url.replace("{voice}",i.voice.toString()).replace(/\/+$/,"")+u(t)};j.get=(e,t)=>({url:j.url(e,t),method:"get"});j.head=(e,t)=>({url:j.url(e,t),method:"head"});const x=(e,t)=>({url:x.url(e,t),method:"put"});x.definition={methods:["put","patch"],url:"/admin/voice/{voice}"};x.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={voice:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={voice:e.id}),Array.isArray(e)&&(e={voice:e[0]}),e=c(e);const i={voice:typeof e.voice=="object"?e.voice.id:e.voice};return x.definition.url.replace("{voice}",i.voice.toString()).replace(/\/+$/,"")+u(t)};x.put=(e,t)=>({url:x.url(e,t),method:"put"});x.patch=(e,t)=>({url:x.url(e,t),method:"patch"});const U=(e,t)=>({url:U.url(e,t),method:"delete"});U.definition={methods:["delete"],url:"/admin/voice/{voice}"};U.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={voice:e}),Array.isArray(e)&&(e={voice:e[0]}),e=c(e);const i={voice:e.voice};return U.definition.url.replace("{voice}",i.voice.toString()).replace(/\/+$/,"")+u(t)};U.delete=(e,t)=>({url:U.url(e,t),method:"delete"});const H={toggleStatus:N,index:$,create:S,store:T,show:w,edit:j,update:x,destroy:U},p=e=>({url:p.url(e),method:"get"});p.definition={methods:["get","head"],url:"/admin/voice"};p.url=e=>p.definition.url+u(e);p.get=e=>({url:p.url(e),method:"get"});p.head=e=>({url:p.url(e),method:"head"});const f=e=>({url:f.url(e),method:"get"});f.definition={methods:["get","head"],url:"/admin/voice/create"};f.url=e=>f.definition.url+u(e);f.get=e=>({url:f.url(e),method:"get"});f.head=e=>({url:f.url(e),method:"head"});const V=e=>({url:V.url(e),method:"post"});V.definition={methods:["post"],url:"/admin/voice"};V.url=e=>V.definition.url+u(e);V.post=e=>({url:V.url(e),method:"post"});const a=(e,t)=>({url:a.url(e,t),method:"get"});a.definition={methods:["get","head"],url:"/admin/voice/{voice}"};a.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={voice:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={voice:e.id}),Array.isArray(e)&&(e={voice:e[0]}),e=c(e);const i={voice:typeof e.voice=="object"?e.voice.id:e.voice};return a.definition.url.replace("{voice}",i.voice.toString()).replace(/\/+$/,"")+u(t)};a.get=(e,t)=>({url:a.url(e,t),method:"get"});a.head=(e,t)=>({url:a.url(e,t),method:"head"});const h=(e,t)=>({url:h.url(e,t),method:"get"});h.definition={methods:["get","head"],url:"/admin/voice/{voice}/edit"};h.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={voice:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={voice:e.id}),Array.isArray(e)&&(e={voice:e[0]}),e=c(e);const i={voice:typeof e.voice=="object"?e.voice.id:e.voice};return h.definition.url.replace("{voice}",i.voice.toString()).replace(/\/+$/,"")+u(t)};h.get=(e,t)=>({url:h.url(e,t),method:"get"});h.head=(e,t)=>({url:h.url(e,t),method:"head"});const v=(e,t)=>({url:v.url(e,t),method:"put"});v.definition={methods:["put","patch"],url:"/admin/voice/{voice}"};v.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={voice:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={voice:e.id}),Array.isArray(e)&&(e={voice:e[0]}),e=c(e);const i={voice:typeof e.voice=="object"?e.voice.id:e.voice};return v.definition.url.replace("{voice}",i.voice.toString()).replace(/\/+$/,"")+u(t)};v.put=(e,t)=>({url:v.url(e,t),method:"put"});v.patch=(e,t)=>({url:v.url(e,t),method:"patch"});const k=(e,t)=>({url:k.url(e,t),method:"delete"});k.definition={methods:["delete"],url:"/admin/voice/{voice}"};k.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={voice:e}),Array.isArray(e)&&(e={voice:e[0]}),e=c(e);const i={voice:e.voice};return k.definition.url.replace("{voice}",i.voice.toString()).replace(/\/+$/,"")+u(t)};k.delete=(e,t)=>({url:k.url(e,t),method:"delete"});Object.assign(p,p),Object.assign(f,f),Object.assign(V,V),Object.assign(a,a),Object.assign(h,h),Object.assign(v,v),Object.assign(k,k);const $e={class:"flex items-center gap-2"},Se={key:0,class:"i-pause"},we={key:1,class:"i-play"},je={class:"text-xs text-gray-500"},xe=Q({__name:"Player",props:{id:String,url:String},setup(e){const t=e,i=se(),G=Y(()=>i.progress_percent.value(t.id));function J(){i.play({id:t.id??"tmp",src:"/storage/samples/"+t.url,title:"voice",artist:"lap"})}return(C,d)=>(B(),E("div",$e,[o(n(z),{type:"button",variant:"ghost",onClick:d[0]||(d[0]=l=>J()),class:"rounded border px-2 py-1"},{default:r(()=>{var l;return[((l=n(i).state.current)==null?void 0:l.id)===e.id&&n(i).state.isPlaying?(B(),E("span",Se)):(B(),E("span",we))]}),_:1}),m("p",je,K(n(i).progress_formatted.value(e.id)),1),o(n(me),{modelValue:G.value,"onUpdate:modelValue":d[1]||(d[1]=l=>G.value=l),class:"min-w-full flex-1",onClick:d[2]||(d[2]=l=>n(i).seek_click(l,e.id))},null,8,["modelValue"])]))}}),Ce=Q({__name:"LoteSheet",props:{sheetTitle:{type:String,default:null},sheetDescription:{type:String,default:null},side:{type:String,default:"right"},contentClasses:{type:String,default:"max-w-sm"}},setup(e){return(t,i)=>(B(),X(n(pe),null,{default:r(()=>[o(n(_e),{"as-child":""},{default:r(()=>[M(t.$slots,"trigger")]),_:3}),o(n(ye),{side:e.side,class:Z(e.contentClasses)},{default:r(()=>[o(n(fe),null,{default:r(()=>[o(n(he),null,{default:r(()=>[q(K(e.sheetTitle),1)]),_:1}),o(n(ve),null,{default:r(()=>[q(K(e.sheetDescription),1)]),_:1})]),_:1}),M(t.$slots,"default"),o(n(be),null,{default:r(()=>[M(t.$slots,"footer")]),_:3})]),_:3},8,["side","class"])]),_:3}))}}),y=(e,t)=>({url:y.url(e,t),method:"get"});y.definition={methods:["get","head"],url:"/sample/download/{id}"};y.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={id:e}),Array.isArray(e)&&(e={id:e[0]}),e=c(e);const i={id:e.id};return y.definition.url.replace("{id}",i.id.toString()).replace(/\/+$/,"")+u(t)};y.get=(e,t)=>({url:y.url(e,t),method:"get"});y.head=(e,t)=>({url:y.url(e,t),method:"head"});const _=e=>({url:_.url(e),method:"get"});_.definition={methods:["get","head"],url:"/admin/sample"};_.url=e=>_.definition.url+u(e);_.get=e=>({url:_.url(e),method:"get"});_.head=e=>({url:_.url(e),method:"head"});const s=e=>({url:s.url(e),method:"get"});s.definition={methods:["get","head"],url:"/admin/sample/create"};s.url=e=>s.definition.url+u(e);s.get=e=>({url:s.url(e),method:"get"});s.head=e=>({url:s.url(e),method:"head"});const O=e=>({url:O.url(e),method:"post"});O.definition={methods:["post"],url:"/admin/sample"};O.url=e=>O.definition.url+u(e);O.post=e=>({url:O.url(e),method:"post"});const b=(e,t)=>({url:b.url(e,t),method:"get"});b.definition={methods:["get","head"],url:"/admin/sample/{sample}/edit"};b.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={sample:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={sample:e.id}),Array.isArray(e)&&(e={sample:e[0]}),e=c(e);const i={sample:typeof e.sample=="object"?e.sample.id:e.sample};return b.definition.url.replace("{sample}",i.sample.toString()).replace(/\/+$/,"")+u(t)};b.get=(e,t)=>({url:b.url(e,t),method:"get"});b.head=(e,t)=>({url:b.url(e,t),method:"head"});const A=(e,t)=>({url:A.url(e,t),method:"put"});A.definition={methods:["put","patch"],url:"/admin/sample/{sample}"};A.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={sample:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={sample:e.id}),Array.isArray(e)&&(e={sample:e[0]}),e=c(e);const i={sample:typeof e.sample=="object"?e.sample.id:e.sample};return A.definition.url.replace("{sample}",i.sample.toString()).replace(/\/+$/,"")+u(t)};A.put=(e,t)=>({url:A.url(e,t),method:"put"});A.patch=(e,t)=>({url:A.url(e,t),method:"patch"});const L=(e,t)=>({url:L.url(e,t),method:"delete"});L.definition={methods:["delete"],url:"/admin/sample/{sample}"};L.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={sample:e}),Array.isArray(e)&&(e={sample:e[0]}),e=c(e);const i={sample:e.sample};return L.definition.url.replace("{sample}",i.sample.toString()).replace(/\/+$/,"")+u(t)};L.delete=(e,t)=>({url:L.url(e,t),method:"delete"});Object.assign(y,y),Object.assign(_,_),Object.assign(s,s),Object.assign(O,O),Object.assign(b,b),Object.assign(A,A),Object.assign(L,L);const Ve={class:"p-4"},ke={class:"flex w-full gap-2"},Oe={class:"flex gap-2"},Le={class:"flex gap-2 items-center"},De={key:0,class:"w-full"},Ne={class:"flex justify-end gap-2"},ft=Q({__name:"index",setup(e){const t=[{title:"Voice List",href:"/admin/voice"}],i=I(),G=C=>{W.delete(H.destroy(C).url,{preserveScroll:!0,onSuccess:()=>{i.value&&(i.value.refresh(),ue.success("The Voice has been deleted successfully."))}})},J=C=>{const d=new URLSearchParams;return d.append("voice_id",C),d.append("title",JSON.stringify({bg:"Аудио "+C,en:"Sample "+C})),d.append("is_featured","true"),d.append("return_url",ie().url),s.url()+"?"+d.toString()};return(C,d)=>(B(),X(de,{breadcrumbs:t},{default:r(()=>[o(n(P),{title:"Voice List"}),m("div",Ve,[o(oe,{"default-url":"/admin/voice",ref_key:"dataTable",ref:i},{filters:r(l=>[m("div",ke,[o(n(ne),{class:"w-40 border-neutral-300 shadow-none dark:border-neutral-500",placeholder:"търси",modelValue:l.urlParams.search,"onUpdate:modelValue":D=>l.urlParams.search=D,onKeyup:ee(D=>l.setFilter(),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),o(ae,{options:C.$page.props.usersSelect,onChange:D=>l.setFilter("user_id",D),selected:l.getFilter("user_id")??null},null,8,["options","onChange","selected"]),o(le,{onClick:te(D=>l.resetFilters(),["stop","prevent"])},null,8,["onClick"])]),m("div",Oe,[o(n(R),{href:n(H).create.url()},{default:r(()=>[o(n(z),null,{default:r(()=>[...d[0]||(d[0]=[q("New Voice",-1)])]),_:1})]),_:1},8,["href"])])]),tr:r(l=>[o(F,{column:"0"},{default:r(()=>[o(n(R),{href:n(a).url(l.row.id)},{default:r(()=>[q(K(l.row.title.bg),1)]),_:2},1032,["href"])]),_:2},1024),o(F,{column:"1"},{default:r(()=>[q(K(l.row.user_name),1)]),_:2},1024),o(F,{column:"2"},{default:r(()=>[o(ce,{"default-state":l.row.is_active,url:"/admin/voice/"+l.row.id+"/toggle-status"},null,8,["default-state","url"])]),_:2},1024),o(F,{column:"3"},{default:r(()=>[m("div",Le,[o(Ce,{"content-classes":"max-w-[500px]"},{trigger:r(()=>[o(n(z),{size:"icon"},{default:r(()=>[...d[1]||(d[1]=[m("span",{class:"i-list_chevrons"},null,-1)])]),_:1})]),default:r(()=>[o(Ae,{voice:l.row,class:"px-4"},null,8,["voice"])]),_:2},1024),o(n(R),{href:J(l.row.id),class:"flex items-center gap-2 hover:no-underline"},{default:r(()=>[o(n(z),{variant:"secondary",size:"icon"},{default:r(()=>[...d[2]||(d[2]=[m("span",{class:"i-plus"},null,-1)])]),_:1})]),_:1},8,["href"]),l.row.featuredSample?(B(),E("div",De,[o(xe,{id:l.row.featuredSample.id+"",url:l.row.featuredSample.file_url},null,8,["id","url"])])):g("",!0)])]),_:2},1024),o(F,{column:"4"},{default:r(()=>[m("div",Ne,[o(n(z),{variant:"secondary",size:"icon",onClick:D=>n(W).visit(n(H).edit(l.row.id).url)},{default:r(()=>[...d[3]||(d[3]=[m("span",{class:"i-edit"},null,-1)])]),_:1},8,["onClick"]),o(re,{"trigger-variant":"destructive","trigger-label":"trash","is-icon":"","dialog-title":"Delete Voice","dialog-description":"Are you sure you want to delete this Voice?","confirm-label":"Delete",onConfirm:D=>G(l.row.id)},{default:r(()=>[o(n(z),{variant:"destructive",size:"icon"},{default:r(()=>[...d[4]||(d[4]=[m("span",{class:"i-trash"},null,-1)])]),_:1})]),_:1},8,["onConfirm"])])]),_:2},1024)]),_:1},512)])]),_:1}))}});export{ft as default};
